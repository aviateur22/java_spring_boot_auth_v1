BEGIN;

CREATE TABLE "users"(
	"id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"email" TEXT NOT NULL,
	"password" TEXT NOT NULL,
	"created_at" TIMESTAMPTZ NOT NULL DEFAULT now(),
	"updated_at" TIMESTAMPTZ
);

CREATE TABLE "roles"(
	"id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"role" TEXT NOT NULL,	
	"created_at" TIMESTAMPTZ NOT NULL DEFAULT now(),
	"updated_at" TIMESTAMPTZ
);

CREATE TABLE "role_user"(
	"id" INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
	"role_id" INTEGER NOT NULL REFERENCES "roles"("id") ON DELETE CASCADE,
	"user_id" INTEGER NOT NULL REFERENCES "users"("id") ON DELETE CASCADE,
	"created_at" TIMESTAMPTZ NOT NULL DEFAULT now(),
	"updated_at" TIMESTAMPTZ
);

COMMIT;